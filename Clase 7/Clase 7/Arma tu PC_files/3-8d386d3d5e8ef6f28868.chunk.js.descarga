(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[3],{107:function(e,t,i){"use strict";var a=i(1),o=i(3),n=function(e,t,i,a){var o,n=arguments.length,s=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(n<3?o(s):n>3?o(t,i,s):o(t,i))||s);return n>3&&s&&Object.defineProperty(t,i,s),s};const s=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(", ");let r=[],l=class extends(Object(a.c)()){mounted(){r.unshift(this),this.initializeFocus(),o.a.addEventListener("keydown",this.ensureFocusTrapped)}beforeDestroy(){var e;r=r.filter(e=>e!==this),null===(e=r[0])||void 0===e||e.initializeFocus(),o.a.removeEventListener("keydown",this.ensureFocusTrapped)}afterFocusShiftsFlushed(e){setTimeout(()=>this.$nextTick(e),1)}initializeFocus(){this.afterFocusShiftsFlushed(()=>{if(!(r[0]===this))return;if(this.$el.contains(o.a.document.activeElement))return;this.$el.focus()})}getFocusTarget(){const e=this.$el,t=o.a.document.activeElement;if(!t)return e;const i=t&&this.$el.compareDocumentPosition(t);if(i&Node.DOCUMENT_POSITION_CONTAINED_BY)return null;if(i&Node.DOCUMENT_POSITION_CONTAINS)return e;const a=e.querySelectorAll(s);return a.length<1?e:i&Node.DOCUMENT_POSITION_FOLLOWING?a[0]:i&Node.DOCUMENT_POSITION_PRECEDING?a[a.length-1]:e}ensureFocusTrapped(){this.afterFocusShiftsFlushed(()=>{if(!(r[0]===this))return;const e=this.getFocusTarget();e&&e.focus()})}};l=n([Object(a.a)({})],l);var d=l,c=i(5),h=Object(c.a)(d,(function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{tabindex:"-1"}},[this._t("default")],2)}),[],!1,null,null,null).exports,u=function(e,t,i,a){var o,n=arguments.length,s=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(n<3?o(s):n>3?o(t,i,s):o(t,i))||s);return n>3&&s&&Object.defineProperty(t,i,s),s},p=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let f=class extends(Object(a.c)()){scrimClick(){this.$emit("scrim-click")}scrimEsc(){this.$emit("scrim-esc")}};u([Object(a.e)({default:"modal"}),p("design:type",Object)],f.prototype,"scrim",void 0),u([Object(a.e)({default:"auto"}),p("design:type",Object)],f.prototype,"darkMode",void 0),u([Object(a.e)({default:!0}),p("design:type",Boolean)],f.prototype,"shouldFadeIn",void 0),f=u([Object(a.a)({components:{FocusTrap:h}})],f);var m=f,g=(i(324),Object(c.a)(m,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("FocusTrap",{class:["fixed","inset-0","z-modal2",{fade:e.shouldFadeIn},"modal"===e.scrim&&{"bg-modal-overlay-light":!1===e.darkMode,"bg-modal-overlay-dark":!0===e.darkMode,"bg-modal-overlay-light dark:bg-modal-overlay-dark":"auto"===e.darkMode},"popover"===e.scrim&&{"bg-popover-overlay-light":!1===e.darkMode,"bg-popover-overlay-dark":!0===e.darkMode,"bg-popover-overlay-light dark:bg-popover-overlay-dark":"auto"===e.darkMode},"touch-action-manipulation","pointer-events-auto"],nativeOn:{click:function(t){return t.target!==t.currentTarget?null:(t.stopPropagation(),t.preventDefault(),e.scrimClick(t))},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.stopPropagation(),t.preventDefault(),e.scrimEsc(t))}}},[e._t("default")],2)}),[],!1,null,"12bf0b31",null));t.a=g.exports},171:function(e,t,i){"use strict";var a=i(1),o=i(190),n=i.n(o),s=i(107),r=function(e,t,i,a){var o,n=arguments.length,s=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(n<3?o(s):n>3?o(t,i,s):o(t,i))||s);return n>3&&s&&Object.defineProperty(t,i,s),s},l=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let d=class extends a.f{constructor(){super(...arguments),this.MAX_TOP_MARGIN=0,this.MIN_TOP_MARGIN=0,this.DRAG_DISTANCE_AT_TOP=0,this.DRAG_DISTANCE_MIN=0,this.dragDistanceY=0,this.dragDistanceYBeforeStart=0,this.latestVelocityY=0,this.latestPanEventTimestamp=0,this.draggedToFullSize=!1,this.scrollEnabled=!1,this.panEnabled=!1,this.marginTop=0,this.scrollTop=0,this.isDragStartEmittedForScroll=!1,this.scrollWithPan=!1}handleDragDisable(e){e?this.removePanListener():this.addPanListener()}handleResize(e){e?(this.resetElement("full","slow"),setTimeout(()=>{document.documentElement.scrollTop=0},100),this.removePanListener()):(this.resetElement("top","slow"),this.addPanListener())}updateElement(){this.$nextTick(()=>{const e=this.$refs.modalContainer;this.marginTop=this.MAX_TOP_MARGIN+this.dragDistanceY,0==this.marginTop?this.draggedToFullSize=!0:this.draggedToFullSize=!1,e.style.marginTop=this.marginTop+"px"})}addTransition(e="slow"){const t=this.$refs.modalContainer;t.style.transition="slow"==e?"margin 150ms cubic-bezier(0.4, 0, 0.2, 1)":"margin 50ms cubic-bezier(0.4, 0, 0.2, 1)",setTimeout(()=>{t.style.transition=""},"slow"==e?150:100)}resetElement(e="bottom",t="slow"){this.addTransition(t),"bottom"==e?(this.dragDistanceY=0,this.disableScroll()):"top"==e?(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP,this.enableScroll()):"full"==e&&(this.dragDistanceY=-this.MAX_TOP_MARGIN,this.enableScroll()),this.updateElement()}computeEndVelocity({endEvent:e,lastPanEvent:t}){const i=(e.velocity+t.velocity)/Math.abs(e.velocity+t.velocity);return e.timestamp-t.timestamp>60?i*Math.max(Math.abs(t.velocity),e.velocity)*1e3:i*Math.abs(e.velocity)*1e3}get isScrollingWholeModal(){return"whole"==this.scrollType}get scrollingElement(){return this.isScrollingWholeModal?this.$refs.modalContainerInnerWrapper:this.$refs.modalBody}handleTrayScrollStart(e){this.touchStartY=e.touches[0].clientY,this.isDragStartEmittedForScroll=!1}handleTrayScroll(e){if(!this.scrollEnabled)return void(e.cancelable&&e.preventDefault());this.isDragStartEmittedForScroll||(this.isDragStartEmittedForScroll=!0,this.$emit("dragstart"));const t=this.scrollingElement;t&&(this.panEnabled&&t.scrollTop<0?e.preventDefault():this.panEnabled&&0==t.scrollTop&&(this.touchStartY&&this.touchStartY>e.changedTouches[0].clientY+5||this.touchStartY&&this.touchStartY<e.changedTouches[0].clientY-5&&e.cancelable&&e.preventDefault()),this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=void 0),this.scrollTimeout=setTimeout(()=>{this.scrollTop=t.scrollTop;this.scrollTop<=5?this.addPanListener():this.removePanListener()},250))}enableScroll(){this.scrollEnabled=!0,this.scrollingElement.style.overflow="auto"}disableScroll(){this.scrollEnabled=!1,this.scrollingElement.style.overflow="visible"}handleStartPan(){this.dragDistanceYBeforeStart=this.dragDistanceY;const e=this.scrollingElement;this.scrollEnabled&&0==e.scrollTop&&(this.scrollWithPan=!0),this.$emit("dragstart")}handlePanMove(e,t,i){if(this.scrollWithPan&&e<0){this.scrollingElement.scrollTop=-e,this.scrollWithPan=!1}else this.dragDistanceY=Math.max(this.dragDistanceYBeforeStart+e,this.DRAG_DISTANCE_AT_TOP),this.updateElement(),this.latestVelocityY=t,this.latestPanEventTimestamp=i}handlePanEnd(e,t){const i=this.computeEndVelocity({endEvent:{velocity:e,timestamp:t},lastPanEvent:{velocity:this.latestVelocityY,timestamp:this.latestPanEventTimestamp}});this.dragDistanceY<=this.DRAG_DISTANCE_AT_TOP&&(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP,this.enableScroll()),Math.abs(i)>300?this.latestVelocityY+e<0?this.resetElement("top","fast"):this.resetElement("bottom","fast"):this.dragDistanceY>this.DRAG_DISTANCE_AT_TOP/2?this.resetElement("bottom","slow"):this.DRAG_DISTANCE_AT_TOP/2>this.dragDistanceY&&this.dragDistanceY>this.DRAG_DISTANCE_AT_TOP&&this.resetElement("top","slow"),this.$emit("dragend")}addPanListener(){if(!this.fullSize)if(this.disableDrag)this.enableScroll();else{if(!this.hammer){const e=this.$refs.modalContainerInner;this.hammer=new n.a(e)}this.hammer.get("pan").set({direction:n.a.DIRECTION_VERTICAL}),this.hammer.on("panstart",e=>{this.handleStartPan()}),this.hammer.on("panmove",e=>{this.handlePanMove(e.deltaY,e.velocityY,e.timeStamp)}),this.hammer.on("panend",e=>{this.handlePanEnd(e.velocityY,e.timeStamp)}),this.panEnabled=!0}}removePanListener(){this.hammer&&(this.hammer.off("panstart panmove panend"),this.panEnabled=!1)}computePrecalculatedMeasurement(){this.MAX_TOP_MARGIN=Math.max(this.windowHeight/4,this.windowHeight-this.preferredTrayStartHeight),this.MIN_TOP_MARGIN=(()=>{var e;if(this.shouldFullSizeCoverScreen)return 0;const t=this.$refs.modalBodyContent;if(t){const i=this.windowHeight-t.clientHeight-(null===(e=this.$refs.header)||void 0===e?void 0:e.clientHeight);return i>this.MAX_TOP_MARGIN?0:i}return 0})(),this.DRAG_DISTANCE_AT_TOP=-this.MAX_TOP_MARGIN+Math.max(0,this.MIN_TOP_MARGIN),this.DRAG_DISTANCE_MIN=-this.MAX_TOP_MARGIN+this.MIN_TOP_MARGIN}setStartingTopMargin(){this.marginTop=this.MAX_TOP_MARGIN,this.fullSize&&(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP),this.updateElement()}mounted(){this.computePrecalculatedMeasurement(),this.setStartingTopMargin(),this.addPanListener()}scrimClick(){this.$emit("scrim-click")}scrimEsc(){this.$emit("scrim-esc")}};r([Object(a.e)({default:!0}),l("design:type",Boolean)],d.prototype,"xHeader",void 0),r([Object(a.e)({required:!0}),l("design:type",Number)],d.prototype,"windowHeight",void 0),r([Object(a.e)({default:!1}),l("design:type",Boolean)],d.prototype,"xDrawerHandle",void 0),r([Object(a.e)({default:!1}),l("design:type",Boolean)],d.prototype,"fullSize",void 0),r([Object(a.e)({default:!1}),l("design:type",Boolean)],d.prototype,"disableDrag",void 0),r([Object(a.e)({default:"body"}),l("design:type",String)],d.prototype,"scrollType",void 0),r([Object(a.e)({default:"auto"}),l("design:type",Object)],d.prototype,"darkMode",void 0),r([Object(a.e)({default:1/0}),l("design:type",Number)],d.prototype,"preferredTrayStartHeight",void 0),r([Object(a.e)({default:!1}),l("design:type",Boolean)],d.prototype,"shouldFullSizeCoverScreen",void 0),r([Object(a.e)({default:!1}),l("design:type",Boolean)],d.prototype,"autoHeight",void 0),r([Object(a.e)({default:!1}),l("design:type",Boolean)],d.prototype,"xScrim",void 0),r([Object(a.e)({default:!0}),l("design:type",Boolean)],d.prototype,"shouldFadeIn",void 0),r([Object(a.g)("disableDrag"),l("design:type",Function),l("design:paramtypes",[Boolean]),l("design:returntype",void 0)],d.prototype,"handleDragDisable",null),r([Object(a.g)("fullSize"),l("design:type",Function),l("design:paramtypes",[Boolean]),l("design:returntype",void 0)],d.prototype,"handleResize",null),d=r([Object(a.a)({components:{OzOverlay:s.a}})],d);var c=d,h=(i(326),i(5)),u=Object(h.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("OzOverlay",{class:["overflow-hidden","flex","flex-col","justify-end","items-center","font-sans"],attrs:{scrim:e.xScrim?"modal":null,"should-fade-in":e.shouldFadeIn},on:{"scrim-click":e.scrimClick,"scrim-esc":e.scrimEsc}},[i("div",{ref:"modalContainer",class:[{"mt-96 min-h-auto w-full":!0,"h-full":!e.autoHeight,"overflow-auto flex flex-col":!0,"modal-container":!0,"rounded-none":(e.fullSize||e.draggedToFullSize)&&0===e.MIN_TOP_MARGIN,"rounded-3xl rounded-br-none rounded-bl-none":!e.fullSize&&!e.draggedToFullSize||e.MIN_TOP_MARGIN>0,"full-size":e.fullSize||e.draggedToFullSize,"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"pb-safe-inset-bottom":!0}]},[i("div",{ref:"modalContainerInner",class:[{"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"min-h-full flex flex-grow flex-col overflow-hidden":!0}]},[i("div",{ref:"modalContainerInnerWrapper",class:[e.isScrollingWholeModal?"block":"contents","pb-0"]},[e.xHeader?i("header",{ref:"header"},[e.xDrawerHandle?i("div",{staticClass:"flex justify-center mb-2 pt-1",attrs:{id:"tray-expander-controller"}},[i("div",{staticClass:"rounded w-7 h-1 bg-highway-disabled dark:bg-white-disabled"})]):e._e(),e._v(" "),e._t("header")],2):e._e(),e._v(" "),i("div",{ref:"modalBody",class:{"h-auto flex flex-grow flex-col p-0 overflow-hidden":!0,"overflow-y-auto":e.fullSize&&e.shouldFullSizeCoverScreen},on:{touchstart:e.handleTrayScrollStart,touchmove:e.handleTrayScroll,touchend:function(t){return e.$emit("dragend")}}},[i("div",{ref:"modalBodyContent"},[e._t("body")],2)])])])])])}),[],!1,null,"1bb85e79",null);t.a=u.exports},187:function(e,t,i){var a=i(325);"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i(79).default)("02c2cc7c",a,!0,{})},188:function(e,t,i){var a=i(327);"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i(79).default)("627624a0",a,!0,{})},324:function(e,t,i){"use strict";var a=i(187);i.n(a).a},325:function(e,t,i){(e.exports=i(78)(!1)).push([e.i,".touch-action-manipulation[data-v-12bf0b31] {\n  touch-action: manipulation;\n}\n.fade[data-v-12bf0b31] {\n  animation-name: oz-overlay-fade-data-v-12bf0b31;\n  animation-duration: 0.2s;\n  will-change: opacity;\n}\n@keyframes oz-overlay-fade-data-v-12bf0b31 {\n0% {\n    opacity: 0;\n}\n100% {\n    opacity: 1;\n}\n}\n",""])},326:function(e,t,i){"use strict";var a=i(188);i.n(a).a},327:function(e,t,i){(e.exports=i(78)(!1)).push([e.i,".modal-container[data-v-1bb85e79] {\n  max-height: none;\n  box-shadow: 0 19px 38px rgba(0, 0, 0, 0.3), 0 15px 12px rgba(0, 0, 0, 0.22);\n  animation-name: modal-slide-up-data-v-1bb85e79;\n  animation-duration: 0.2s;\n  animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.modal-container.full-size[data-v-1bb85e79] {\n    animation-duration: 0.4s;\n}\n@keyframes modal-slide-up-data-v-1bb85e79 {\n0% {\n    transform: translateY(100%);\n}\n100% {\n    transform: translateY(0);\n}\n}\n",""])}}]);
//# sourceMappingURL=3-8d386d3d5e8ef6f28868.chunk.js.map